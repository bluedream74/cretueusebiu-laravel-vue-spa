(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{238:function(t,e,n){var r=n(358);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(8)(r,a);r.locals&&(t.exports=r.locals)},357:function(t,e,n){"use strict";n(238)},358:function(t,e,n){(t.exports=n(7)(!1)).push([t.i,".admin__container[data-v-95fe8090] {\n  padding: 20px;\n  flex: 1;\n}\nh1[data-v-95fe8090] {\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n  padding-left: 15px;\n  border-left: 2px solid #f09415;\n  margin-bottom: 10px;\n}\n.create__form[data-v-95fe8090] {\n  margin-top: 40px;\n}\n.create__form .form__row[data-v-95fe8090] {\n  display: flex;\n  margin-bottom: 20px;\n}\n.create__form .form__row label[data-v-95fe8090] {\n  font-size: 14px;\n  width: 100px;\n}\n.create__form .form__row p[data-v-95fe8090] {\n  flex: 1;\n  margin-left: 10px;\n}\n.create__form .form__row p input[data-v-95fe8090], .create__form .form__row p select[data-v-95fe8090] {\n  width: 100%;\n  height: 40px;\n  border-radius: 4px;\n  border: 1px solid #707070;\n}\n.create__form .form__row p textarea[data-v-95fe8090] {\n  height: 120px;\n  width: 100%;\n  padding: 10px;\n  resize: none;\n  border: 1px solid #707070;\n}\n.create__form .form__actions[data-v-95fe8090] {\n  display: flex;\n  justify-content: center;\n}\n.create__form .form__actions button[data-v-95fe8090] {\n  width: 120px;\n  height: 35px;\n  border-radius: 5px;\n  background-color: #333;\n  color: #fff;\n  border: 0;\n}\n.create__form .form__actions button[data-v-95fe8090]:first-of-type {\n  margin-right: 20px;\n}\n.create__form .form__actions button[data-v-95fe8090]:last-of-type {\n  background-color: #f09415;\n  color: #fff;\n}",""])},59:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n.n(r);function o(t,e,n,r,a,o,i){try{var s=t[o](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function s(t){o(i,r,a,s,c,"next",t)}function c(t){o(i,r,a,s,c,"throw",t)}s(void 0)}))}}var s={layout:"admin",middleware:"admin",data:function(){return{title:"",content:"",user_id:null,users:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this;return i(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/admin/get_users");case 3:n=e.sent,r=n.data,t.users=r.users,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))()},back:function(){this.$router.back()},createNews:function(){var t=this;return i(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.title.trim()&&""!=t.content.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,axios.post("/admin/create_news",{title:t.title,content:t.content,user_id:t.user_id});case 5:n=e.sent,n.data,t.$swal("","お知らせを作成しました"),t.back(),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(2);case 13:case"end":return e.stop()}}),e,null,[[2,11]])})))()}}},c=(n(357),n(4)),f=Object(c.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin__container"},[n("h1",[t._v("お知らせ作成")]),t._v(" "),n("div",{staticClass:"create__form"},[n("div",{staticClass:"form__row"},[n("label",[t._v("タイトル")]),t._v(" "),n("p",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"タイトルを入力してください"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form__row"},[n("label",[t._v("内容")]),t._v(" "),n("p",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],domProps:{value:t.content},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"form__row"},[n("label",[t._v("配送先")]),t._v(" "),n("p",[n("select",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.user_id=e.target.multiple?n:n[0]}}},t._l(t.users,(function(e,r){return n("option",{key:r,domProps:{value:e.id}},[t._v("\n\t\t\t\t\t\t"+t._s(e.profile.nickname)+"\n\t\t\t\t\t")])})),0)])]),t._v(" "),n("div",{staticClass:"form__actions"},[n("button",{on:{click:t.back}},[t._v("戻る")]),t._v(" "),n("button",{on:{click:t.createNews}},[t._v("作成")])])])])}),[],!1,null,"95fe8090",null);e.default=f.exports}}]);