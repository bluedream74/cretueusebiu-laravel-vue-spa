(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{242:function(n,e,t){var r=t(366);"string"==typeof r&&(r=[[n.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(8)(r,a);r.locals&&(n.exports=r.locals)},32:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(5);function i(n,e,t,r,a,o,i){try{var l=n[o](i),s=l.value}catch(n){return void t(n)}l.done?e(s):Promise.resolve(s).then(r,a)}function l(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function l(n){i(o,r,a,l,s,"next",n)}function s(n){i(o,r,a,l,s,"throw",n)}l(void 0)}))}}var s={layout:"admin",middleware:"admin",data:function(){var n=this;return{users:[],filter:0,SEXALITY:o.j,PREFECTURES:o.h,columns:[{label:"メールアドレス",field:"email"},{label:"ニックネーム",field:"profile.nickname",filterOptions:{customFilter:!0},filterFn:function(n,e){return n.includes(e)}},{label:"画像",field:"avatar",sortable:!1},{label:"性別",field:"profile.gender",formatFn:function(n){return 1==n?"男性":"女性"}},{label:"地域",field:"area",sortable:!1},{label:"年齢",field:"profile.age",formatFn:function(n){return parseInt(n+18)+"歳"},sortFn:function(n,e,t,r,a){return n<e?-1:n>e?1:0}},{label:"セクシャリティ",field:"sexality",sortable:!1},{label:"詳細",field:"detail",sortable:!1},{label:"削除",field:"delete",sortable:!1},{label:"違反者への警告",field:"warning",sortable:!1}],rows:[],headerOptions:{title:"警告メッセージ"},footerOptions:{btn1:"キャンセル",btn2:"送信する",btn1OnClick:function(){n.$vm2.close("warning_modal")},btn2OnClick:function(){n.warningProcConfirm(n.tempMessage)}},headerOptions1:{title:"削除します。よろしいですか"},footerOptions1:{btn1:"キャンセル",btn2:"削除する",btn1OnClick:function(){n.$vm2.close("delete_modal")},btn2OnClick:function(){n.deleteUserConfirm(n.tempDeleteUserId),n.$vm2.close("delete_modal")}},tempUserId:null,tempDeleteUserId:null,warningText:""}},mounted:function(){this.init()},methods:{calcGender:function(n){return this.users.filter((function(e){return e.profile.gender==n})).length},filterGender:function(n){this.filter==n?(this.filter=0,this.rows=this.users):(this.filter=n,this.rows=this.users.filter((function(e){return e.role==n})))},init:function(){var n=this;return l(a.a.mark((function e(){var t,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/admin/get_users");case 3:t=e.sent,r=t.data,n.users=r.users,n.rows=n.users,e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},toDetail:function(n){this.$router.push({name:"admin.users.detail",query:{id:n.id}})},deleteUser:function(n){var e=this;return l(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.tempDeleteUserId=n,e.$vm2.open("delete_modal");case 2:case"end":return t.stop()}}),t)})))()},deleteUserConfirm:function(n){var e=this;return l(a.a.mark((function t(){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/admin/delete_user",{id:n});case 3:r=t.sent,o=r.data,e.users=o.users,e.rows=e.users,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},warningProc:function(n){var e=this;return l(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$vm2.open("warning_modal"),e.tempUserId=n;case 2:case"end":return t.stop()}}),t)})))()},warningProcConfirm:function(){var n=this;return l(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.post("/admin/warning_proc",{id:n.tempUserId,text:n.warningText});case 3:t=e.sent,t.data,n.$swal("","警告をお送りました。"),n.$vm2.close("warning_modal"),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},close:function(){this.$vm2.close("warning_modal")}}},c=(t(365),t(4)),d=Object(c.a)(s,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"admin__container"},[t("h1",[n._v("ユーザー一覧")]),n._v(" "),t("div",{staticClass:"filters"},[t("button",{class:{selected:1==n.filter},on:{click:function(e){return n.filterGender(1)}}},[n._v("無料会員")]),n._v(" "),t("button",{class:{selected:2==n.filter},on:{click:function(e){return n.filterGender(2)}}},[n._v("有料会員")])]),n._v(" "),t("div",{staticClass:"info_detail_panel"},[t("span",[n._v("男性："+n._s(n.calcGender(1))+"人")]),n._v(" "),t("span",[n._v("女性："+n._s(n.calcGender(2))+"人")])]),n._v(" "),t("div",{staticClass:"table"},[t("vue-good-table",{attrs:{columns:n.columns,rows:n.rows,"line-numbers":!0,"pagination-options":{enabled:!0,mode:"pages",perPage:50,position:"top",perPageDropdown:[50,100,200],dropdownAllowAll:!1,setCurrentPage:1,nextLabel:"次",prevLabel:"前",rowsPerPageLabel:"表示行数",ofLabel:"合計",pageLabel:"ページ",allLabel:"すべて"},"search-options":{enabled:!0,skipDiacritics:!0,placeholder:"検索する条件を入力してください。(メールアドレス、ニックネーム)"}},scopedSlots:n._u([{key:"table-row",fn:function(e){return["email"==e.column.field?t("p",[n._v("\n                        "+n._s(e.row.email)+"\n                    ")]):"gender"==e.column.field?t("p",[n._v("\n                        "+n._s(1==e.row.profile.gender?"男性":"女性")+"\n                    ")]):"area"==e.column.field?t("p",[n._v("\n                        "+n._s(n.PREFECTURES[e.row.profile.area])+"\n                    ")]):"avatar"==e.column.field?t("p",[t("span",{staticClass:"avatar"},[t("img",{attrs:{src:e.row.avatars[0]?e.row.avatars[0].avatar_url:"/asset/profile_avatar.png"}})])]):"sexality"==e.column.field?t("p",[n._v("\n                      "+n._s(n.SEXALITY[e.row.profile.sexality])+"\n                    ")]):"detail"==e.column.field?t("div",{staticClass:"detail_btn"},[t("p",[t("button",{on:{click:function(t){return n.toDetail(e.row)}}},[n._v("詳細")])])]):"delete"==e.column.field?t("div",{staticClass:"delete_btn"},[t("p",[t("button",{on:{click:function(t){return n.deleteUser(e.row.id)}}},[n._v("削除")])])]):"warning"==e.column.field?t("div",{staticClass:"detail_btn"},[t("p",[t("button",{on:{click:function(t){return n.warningProc(e.row.id)}}},[n._v("警告する")])])]):t("span",[n._v("\n                        "+n._s(e.formattedRow[e.column.field])+"\n                    ")])]}}])})],1),n._v(" "),t("vue-modal-2",{attrs:{name:"warning_modal",headerOptions:n.headerOptions,footerOptions:n.footerOptions},on:{"on-close":n.close}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:n.warningText,expression:"warningText"}],staticClass:"warning_text",domProps:{value:n.warningText},on:{input:function(e){e.target.composing||(n.warningText=e.target.value)}}})]),n._v(" "),t("vue-modal-2",{attrs:{name:"delete_modal",headerOptions:n.headerOptions1,footerOptions:n.footerOptions1},on:{"on-close":function(){n.$vm2.close("warning_modal")}}},[t("p")])],1)}),[],!1,null,"8e05652c",null);e.default=d.exports},365:function(n,e,t){"use strict";t(242)},366:function(n,e,t){(n.exports=t(7)(!1)).push([n.i,".admin__container[data-v-8e05652c] {\n  padding: 20px;\n}\n.append_action[data-v-8e05652c] {\n  display: flex;\n  justify-content: flex-end;\n}\n.append_action button[data-v-8e05652c] {\n  width: 160px;\n  height: 30px;\n  border-radius: 4px;\n  border: 0;\n  background-color: #f09415;\n  color: white;\n  font-weight: bold;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.table[data-v-8e05652c] {\n  margin-top: 20px;\n}\n.detail_btn[data-v-8e05652c] {\n  width: 100px;\n}\n.detail_btn p button[data-v-8e05652c] {\n  width: 100%;\n  height: 30px;\n  border-radius: 4px;\n  border: 0;\n  background-color: #f09415;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.detail_btn p button.detail[data-v-8e05652c] {\n  background-color: #1dc973;\n  margin-bottom: 5px;\n}\n.detail_btn p button.edit[data-v-8e05652c] {\n  margin-bottom: 5px;\n  background-color: #0f7e47;\n}\n.delete_btn[data-v-8e05652c] {\n  width: 100px;\n}\n.delete_btn p button[data-v-8e05652c] {\n  width: 100%;\n  height: 30px;\n  border-radius: 4px;\n  border: 0;\n  background-color: #707070;\n  color: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.delete_btn p button.detail[data-v-8e05652c] {\n  background-color: #1dc973;\n  margin-bottom: 5px;\n}\n.delete_btn p button.edit[data-v-8e05652c] {\n  margin-bottom: 5px;\n  background-color: #0f7e47;\n}\nh1[data-v-8e05652c] {\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n  padding-left: 15px;\n  border-left: 2px solid #f09415;\n  margin-bottom: 10px;\n}\n.avatar[data-v-8e05652c] {\n  display: flex;\n  width: 120px;\n  height: 180px;\n  border-radius: 10px;\n  position: relative;\n  overflow: hidden;\n  background-color: #ddd;\n}\n.avatar img[data-v-8e05652c] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: contain;\n     object-fit: contain;\n}\n.warning_text[data-v-8e05652c] {\n  width: 90%;\n  height: 200px;\n  border: 1px solid #707070;\n  border-radius: 5px;\n  resize: none;\n  margin-left: 5%;\n  padding: 10px;\n}\n.filters[data-v-8e05652c] {\n  display: flex;\n  align-items: center;\n}\n.filters button[data-v-8e05652c] {\n  width: 120px;\n  height: 30px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid var(--main-color);\n}\n.filters button.selected[data-v-8e05652c] {\n  background-color: var(--main-color);\n  color: #fff;\n}\n.filters button[data-v-8e05652c]:first-of-type {\n  margin-right: 10px;\n}\n.info_detail_panel[data-v-8e05652c] {\n  background-color: #ccc;\n  border-radius: 10px;\n  padding: 10px;\n  margin-top: 10px;\n}\n.info_detail_panel span[data-v-8e05652c] {\n  margin-right: 10px;\n}",""])},5:function(n,e,t){"use strict";t.d(e,"h",(function(){return r})),t.d(e,"j",(function(){return a})),t.d(e,"a",(function(){return o})),t.d(e,"e",(function(){return i})),t.d(e,"d",(function(){return l})),t.d(e,"i",(function(){return s})),t.d(e,"k",(function(){return c})),t.d(e,"f",(function(){return d})),t.d(e,"m",(function(){return u})),t.d(e,"g",(function(){return f})),t.d(e,"c",(function(){return p})),t.d(e,"l",(function(){return v})),t.d(e,"b",(function(){return m})),t.d(e,"n",(function(){return b})),t.d(e,"o",(function(){return g}));var r=["北海道","青森県","岩手県","宮城県","秋田県","山形県","福島県","山梨県","長野県","新潟県","富山県","石川県"," 福井県","東京都","神奈川県","千葉県","埼玉県","群馬県","茨城県","栃木県","山梨県","愛知県","静岡県","岐阜県","三重県","大阪府","兵庫県","京都府","滋賀県","奈良県","和歌山県","鳥取県","島根県","岡山県","広島県","山口県","徳島県","香川県","愛媛県","高知県","福岡県","佐賀県","長崎県","熊本県","大分県","宮崎県","鹿児島県","沖縄県","海外"],a=["ストレート","ゲイ","レズビアン","バイセクシャル","ノンセクシャル","アセクシャル","トランスジェンダ","パンセクシャル","アロマンティック","どれでもない"],o=["やせ型","標準","筋肉質","ぽっちゃり","太っている","その他"],i=["会社員","公務員","自営業","専門職","アルバイト","その他"],l=["土日祝日休み","シフト制（固定）","シフト（不定）","好きな時に休める","その他"],s=["300万円以下","300〜500万","500〜700万","700〜900万","900万以上"],c=["中学","高校","高専","専門学校","短大","大学","大学院","その他"],d=["飲む","あまり飲まない","全く飲まない"],u=["吸う","たまに吸う","全く吸わない"],f=["あり","なし"],p=["結婚歴あり子供なし","結婚歴あり子供あり（同居中）","結婚歴あり子供あり（別居中）","結婚歴なし"],v=["同居","別居","その他"],m=["望む（性交渉あり）","望む（性交渉なし）","望まない・相談"],b=function(){for(var n=[],e=18;e<=70;e++)n.push(e);return n},g=function(){for(var n=[],e=140;e<=200;e++)n.push(e);return n}}}]);