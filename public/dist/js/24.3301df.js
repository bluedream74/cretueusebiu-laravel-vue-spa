(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{233:function(e,t,a){var s=a(348);"string"==typeof s&&(s=[[e.i,s,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};a(8)(s,n);s.locals&&(e.exports=s.locals)},347:function(e,t,a){"use strict";a(233)},348:function(e,t,a){(e.exports=a(7)(!1)).push([e.i,".chatroom__detail[data-v-4c70d3e1] {\n  padding: 20px;\n  flex: 1;\n}\n.message__item[data-v-4c70d3e1] {\n  margin-bottom: 10px;\n  width: 100%;\n  display: flex;\n  position: relative;\n}\n.message__item .message__left[data-v-4c70d3e1] {\n  margin-right: 10px;\n}\n.message__item .message__left .avatar[data-v-4c70d3e1] {\n  width: 60px;\n  height: 60px;\n  border-radius: 50%;\n  overflow: hidden;\n  position: relative;\n}\n.message__item .message__left .avatar img[data-v-4c70d3e1] {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  -o-object-fit: cover;\n     object-fit: cover;\n}\n.message__item .message__left .name[data-v-4c70d3e1] {\n  font-size: 12px;\n  margin-top: 10px;\n}\n.message__item .message_body .date[data-v-4c70d3e1] {\n  margin-bottom: 4px;\n}\n.message__item .message_body .content[data-v-4c70d3e1] {\n  border-radius: 5px;\n  background-color: var(--main-color);\n  color: #fff;\n  padding: 15px;\n  word-break: break-all;\n  white-space: pre-wrap;\n}\n.message__item .block[data-v-4c70d3e1] {\n  position: absolute;\n  right: 10px;\n  top: 50%;\n  transform: translate(0, -50%);\n  display: none;\n}\n.message__item .block i[data-v-4c70d3e1] {\n  color: #ff0000;\n  font-size: 18px;\n}\n.message__item:hover .block[data-v-4c70d3e1] {\n  display: flex;\n}\n.modal_title[data-v-4c70d3e1] {\n  text-align: center;\n}",""])},57:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s);function i(e,t,a,s,n,i,o){try{var r=e[i](o),c=r.value}catch(e){return void a(e)}r.done?t(c):Promise.resolve(c).then(s,n)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(s,n){var o=e.apply(t,a);function r(e){i(o,s,n,r,c,"next",e)}function c(e){i(o,s,n,r,c,"throw",e)}r(void 0)}))}}var r={layout:"admin",middleware:"admin",data:function(){var e=this;return{tempMessage:null,messages:[],headerOptions:{title:"非表示設定"},footerOptions:{btn1:"キャンセル",btn2:"同意する",btn1OnClick:function(){e.$vm2.close("modal-1")},btn2OnClick:function(){e.blockUserConfirm(e.tempMessage)}}}},mounted:function(){this.init()},methods:{init:function(){var e=this;return o(n.a.mark((function t(){var a,s;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/admin/get_message_list",{id:e.$route.query.id});case 3:a=t.sent,s=a.data,e.messages=s.messages,t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:case"end":return t.stop()}}),t,null,[[0,8]])})))()},blockUserConfirm:function(e){var t=this;return o(n.a.mark((function a(){var s,i;return n.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,axios.post("/admin/block_user",{user_id:e.sender_id,id:t.$route.query.id,status:(e.user.blocked+1)%2});case 3:s=a.sent,i=s.data,t.$vm2.close("modal-1"),t.messages=i.messages,a.next=11;break;case 9:a.prev=9,a.t0=a.catch(0);case 11:case"end":return a.stop()}}),a,null,[[0,9]])})))()},close:function(){this.$vm2.close("modal-1")},blockUser:function(e){this.tempMessage=e,this.$vm2.open("modal-1")}}},c=(a(347),a(4)),l=Object(c.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chatroom__detail"},[a("div",{staticClass:"message__list"},e._l(e.messages,(function(t,s){return a("div",{key:s,staticClass:"message__item"},[a("div",{staticClass:"message__left"},[a("p",{staticClass:"avatar"},[a("img",{attrs:{src:t.user.avatars[0].avatar_url}})]),e._v(" "),a("p",{staticClass:"name"},[e._v(e._s(t.user.profile.nickname))])]),e._v(" "),a("div",{staticClass:"message_body"},[a("p",{staticClass:"date"},[e._v(e._s(e._f("productUpTimeFormat")(t.created_at)))]),e._v(" "),a("div",{staticClass:"content"},[e._v(e._s(t.content))])]),e._v(" "),a("a",{staticClass:"block",on:{click:function(a){return e.blockUser(t)}}},[t.user.blocked?a("i",{staticClass:"fas fa-check-circle"}):a("i",{staticClass:"fas fa-ban"})])])})),0),e._v(" "),a("vue-modal-2",{attrs:{name:"modal-1",headerOptions:e.headerOptions,footerOptions:e.footerOptions},on:{"on-close":e.close}},[a("h5",{staticClass:"modal_title"},[e._v(e._s(e.tempMessage?e.tempMessage.user.profile.nickname:"")+"さんを非表示"+e._s(e.tempMessage&&1==e.tempMessage.user.blocked?"解除":"設定")+"します。よろしいですか")])])],1)}),[],!1,null,"4c70d3e1",null);t.default=l.exports}}]);