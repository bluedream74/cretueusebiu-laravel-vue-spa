(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{18:function(t,n,a){"use strict";var e=a(1),o=a.n(e);function i(t,n,a,e,o,i,r){try{var s=t[i](r),c=s.value}catch(t){return void a(t)}s.done?n(c):Promise.resolve(c).then(e,o)}var r={data:function(){return{myInterval:null,chatrooms:[]}},mounted:function(){var t=this;this.$store.getters["auth/user"]&&(this.init(),this.myInterval=setInterval((function(){t.init()}),5e3))},beforeDestroy:function(){},methods:{init:function(){var t,n=this;return(t=o.a.mark((function t(){var a,e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,axios.post("/api/get_chatroom_list");case 3:a=t.sent,e=a.data,n.chatrooms=e.chatrooms,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),clearInterval(n.myInterval);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})),function(){var n=this,a=arguments;return new Promise((function(e,o){var r=t.apply(n,a);function s(t){i(r,e,o,s,c,"next",t)}function c(t){i(r,e,o,s,c,"throw",t)}s(void 0)}))})()},isShowBadge:function(){var t=this,n=!1;return this.chatrooms.forEach((function(a){a.messages.forEach((function(a){a.read_flags.split("  ").includes(String(t.$store.getters["auth/user"].id))||(n=!0)}))})),n}}},s=(a(341),a(4)),c=Object(s.a)(r,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"bottom_tab"},[a("router-link",{attrs:{to:{name:"search"}}},[a("img",{attrs:{src:"/asset/icons/magnifying-glass-solid.svg"}}),t._v(" "),a("span",[t._v("条件で探す")])]),t._v(" "),a("router-link",{attrs:{to:{name:"message"}}},[a("img",{attrs:{src:"/asset/icons/comment-solid.svg"}}),t._v(" "),a("span",[t._v("メッセージ")]),t._v(" "),t.isShowBadge()?a("span",{staticClass:"badge"}):t._e()]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage"}}},[a("img",{attrs:{src:"/asset/icons/user-gear-solid.svg"}}),t._v(" "),a("span",[t._v("マイページ")])])],1)}),[],!1,null,"1b804918",null);n.a=c.exports},230:function(t,n,a){var e=a(342);"string"==typeof e&&(e=[[t.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(8)(e,o);e.locals&&(t.exports=e.locals)},255:function(t,n,a){var e=a(392);"string"==typeof e&&(e=[[t.i,e,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};a(8)(e,o);e.locals&&(t.exports=e.locals)},34:function(t,n,a){"use strict";a.r(n);var e=a(1),o=a.n(e),i=a(2),r=a.n(i),s=a(18),c=a(39);function d(t,n,a,e,o,i,r){try{var s=t[i](r),c=s.value}catch(t){return void a(t)}s.done?n(c):Promise.resolve(c).then(e,o)}function l(t){return function(){var n=this,a=arguments;return new Promise((function(e,o){var i=t.apply(n,a);function r(t){d(i,e,o,r,s,"next",t)}function s(t){d(i,e,o,r,s,"throw",t)}r(void 0)}))}}var u={components:{BottomTab:s.a,Button:c.a},data:function(){var t=this;return{showModal:!1,subscription:null,tempFlag:1,headerOptions:{title:"退会する"},footerOptions:{btn1:"退会する",btn2:"キャンセル",btn1OnClick:function(){1==t.tempFlag?t.taikai1Confirm():t.taikai2Confirm(),t.$vm2.close("confirm_modal")},btn2OnClick:function(){t.$vm2.close("confirm_modal")}}}},mounted:function(){this.init()},methods:{init:function(){var t=this;return l(o.a.mark((function n(){var a,e;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,axios.post("/api/get_plan_info");case 2:a=n.sent,e=a.data,t.subscription=e.subscription;case 5:case"end":return n.stop()}}),n)})))()},closeConfirmModal:function(){this.$vm2.close("confirm_modal")},calcUpdateDate:function(){if(this.subscription){var t=this.subscription.updated_at;return 1==this.$store.getters["auth/user"].plan?r()(t).add(1,"months").format("MM月DD日"):r()(t).add(3,"months").format("MM月DD日")}return""},logout:function(){var t=this;return l(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("auth/logout");case 2:t.$router.push({name:"home"});case 3:case"end":return n.stop()}}),n)})))()},taikaiProc:function(){this.showModal=!0},cancelModal:function(){this.showModal=!1},taikai1:function(){var t=this;return l(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.tempFlag=1,t.$vm2.open("confirm_modal");case 2:case"end":return n.stop()}}),n)})))()},taikai1Confirm:function(){var t=this;return l(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/api/taikai1");case 3:a=n.sent,a.data,t.showModal=!1,t.$swal("","退会に関して登録されているメールアドレス宛にメールを送付いたしました。ご確認ください。"),n.next=11;break;case 9:n.prev=9,n.t0=n.catch(0);case 11:case"end":return n.stop()}}),n,null,[[0,9]])})))()},taikai2Confirm:function(){var t=this;return l(o.a.mark((function n(){var a;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/api/taikai2");case 3:return a=n.sent,a.data,n.next=7,t.$store.dispatch("auth/logout");case 7:t.$router.push({name:"home"}),t.showModal=!1,t.$swal("","退会に関して登録されているメールアドレス宛にメールを送付いたしました。ご確認ください。"),n.next=14;break;case 12:n.prev=12,n.t0=n.catch(0);case 14:case"end":return n.stop()}}),n,null,[[0,12]])})))()},taikai2:function(){var t=this;return l(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.tempFlag=2,t.$vm2.open("confirm_modal");case 2:case"end":return n.stop()}}),n)})))()}}},v=(a(391),a(4)),p=Object(v.a)(u,(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{staticClass:"mypage__container"},[a("router-link",{attrs:{to:{name:"mypage.favorite"}}},[a("img",{attrs:{src:"/asset/star-solid3.svg"}}),t._v("\n    お気に入り\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.block"}}},[a("img",{attrs:{src:"/asset/user-lock-solid.svg"}}),t._v("\n    ブロックリスト\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.plan_upgrade"}}},[a("img",{attrs:{src:"/asset/user-plus-solid.svg"}}),t._v("\n    有料会員登録をする\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.profile"}}},[a("img",{attrs:{src:"/asset/user-gear-solid.svg"}}),t._v("\n    プロフィールを編集する\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.contact"}}},[a("img",{attrs:{src:"/asset/envelope-solid.svg"}}),t._v("\n    お問い合わせ\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.news"}}},[a("img",{attrs:{src:"/asset/square-rss-solid.svg"}}),t._v("\n    運営からのお知らせ\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.term"}}},[a("img",{attrs:{src:"/asset/book-solid.svg"}}),t._v("\n    利用規約\n  ")]),t._v(" "),a("router-link",{attrs:{to:{name:"mypage.privacy"}}},[a("img",{attrs:{src:"/asset/book-solid.svg"}}),t._v("\n    プライバシーポリシー\n  ")]),t._v(" "),a("a",{on:{click:t.logout}},[a("img",{attrs:{src:"/asset/arrow-right-from-bracket-solid.svg"}}),t._v("\n    ログアウト\n  ")]),t._v(" "),a("a",{on:{click:t.taikaiProc}},[a("img",{attrs:{src:"/asset/arrow-right-from-bracket-solid.svg"}}),t._v("\n    退会する\n  ")]),t._v(" "),a("BottomTab"),t._v(" "),t.showModal?a("div",{staticClass:"mask"}):t._e(),t._v(" "),t.showModal?a("div",{staticClass:"taikai_modal"},[a("h4",[t._v("退会する")]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"actions"},[a("button",{directives:[{name:"show",rawName:"v-show",value:2==t.$store.getters["auth/user"].role,expression:"$store.getters['auth/user'].role == 2"}],on:{click:t.taikai1}},[t._v("有料会員退会")]),t._v(" "),a("button",{on:{click:t.taikai2}},[t._v("無料会員退会")]),t._v(" "),a("button",{staticClass:"cancel",on:{click:t.cancelModal}},[t._v("キャンセル")])])]):t._e(),t._v(" "),a("vue-modal-2",{attrs:{name:"confirm_modal",headerOptions:t.headerOptions,footerOptions:t.footerOptions},on:{"on-close":t.closeConfirmModal}},[a("p",{staticStyle:{"text-align":"center","padding-left":"20px","padding-right":"20px"}},[t._v(t._s(1==t.tempFlag?"有料会員登録を退会してもよろしいですか":"全ての登録内容が削除されますがよろしいですか"))])])],1)}),[function(){var t=this.$createElement,n=this._self._c||t;return n("p",[this._v("\n      ・有料会員から退会します。"),n("br"),this._v("\n      ※無料会員登録は継続となります。"),n("br"),this._v("\n      ・無料会員から退会します。"),n("br"),this._v("\n      ※有料会員の方は有料会員登録も合わせて退会となります。\n    ")])}],!1,null,"e1275f8e",null);n.default=p.exports},341:function(t,n,a){"use strict";a(230)},342:function(t,n,a){(t.exports=a(7)(!1)).push([t.i,".bottom_tab[data-v-1b804918] {\n  height: 60px;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  background-color: #fff;\n  z-index: 199;\n  box-shadow: 6px 3px 0 rgba(0, 0, 0, 0.16);\n  display: none;\n  padding-left: 5px;\n  padding-right: 5vw;\n}\n@media screen and (max-width: 768px) {\n.bottom_tab[data-v-1b804918] {\n    display: flex;\n}\n}\n.bottom_tab a[data-v-1b804918] {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  color: #333;\n  position: relative;\n}\n.bottom_tab a img[data-v-1b804918] {\n  height: 20px;\n  margin-bottom: 2px;\n}\n.bottom_tab a span[data-v-1b804918] {\n  font-size: 14px;\n}\n.bottom_tab a .badge[data-v-1b804918] {\n  position: absolute;\n  width: 3vw;\n  height: 3vw;\n  border-radius: 1.5vw;\n  background-color: #ff0000;\n  right: 1vw;\n  top: 1vw;\n}",""])},391:function(t,n,a){"use strict";a(255)},392:function(t,n,a){(t.exports=a(7)(!1)).push([t.i,".mask[data-v-e1275f8e] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(216, 191, 216, 0.6);\n  z-index: 29;\n}\n.taikai_modal[data-v-e1275f8e] {\n  position: fixed;\n  width: 500px;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  background-color: #fff;\n  z-index: 30;\n  padding: 30px 20px;\n  border-radius: 10px;\n  max-height: 80vh;\n  overflow: auto;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal[data-v-e1275f8e] {\n    width: 90vw;\n    padding: 5vw;\n    border-radius: 2vw;\n}\n}\n.taikai_modal h4[data-v-e1275f8e] {\n  text-align: center;\n  font-size: 16px;\n  margin-bottom: 20px;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal h4[data-v-e1275f8e] {\n    font-size: 4vw;\n    margin-bottom: 5vw;\n}\n}\n.taikai_modal p[data-v-e1275f8e] {\n  font-size: 14px;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal p[data-v-e1275f8e] {\n    font-size: 3.5vw;\n}\n}\n.taikai_modal .actions[data-v-e1275f8e] {\n  display: flex;\n  justify-content: center;\n  padding-top: 20px;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal .actions[data-v-e1275f8e] {\n    padding-top: 5vw;\n}\n}\n.taikai_modal .actions button[data-v-e1275f8e] {\n  height: 30px;\n  padding-left: 20px;\n  padding-right: 20px;\n  background-color: #333;\n  color: #fff;\n  border: 0;\n  border-radius: 4px;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal .actions button[data-v-e1275f8e] {\n    height: 6vw;\n    padding-left: 2vw;\n    padding-right: 2vw;\n    border-radius: 1vw;\n}\n}\n.taikai_modal .actions button[data-v-e1275f8e]:first-of-type {\n  margin-right: 10px;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal .actions button[data-v-e1275f8e]:first-of-type {\n    margin-right: 2vw;\n}\n}\n.taikai_modal .actions button[data-v-e1275f8e]:nth-of-type(2) {\n  margin-right: 10px;\n}\n@media screen and (max-width: 768px) {\n.taikai_modal .actions button[data-v-e1275f8e]:nth-of-type(2) {\n    margin-right: 2vw;\n}\n}\n.taikai_modal .actions button.cancel[data-v-e1275f8e] {\n  background-color: #fff;\n  color: #333;\n  border: 1px solid #333;\n}\n.mypage__container[data-v-e1275f8e] {\n  width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n  padding-top: 30px;\n  padding-bottom: 60px;\n}\n@media screen and (max-width: 768px) {\n.mypage__container[data-v-e1275f8e] {\n    width: 90vw;\n    padding-top: 5vw;\n}\n}\n.mypage__container a[data-v-e1275f8e] {\n  width: 100%;\n  height: 40px;\n  border-radius: 5px;\n  background-color: var(--main-color);\n  color: #fff;\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  padding-left: 20px;\n  font-weight: bold;\n}\n@media screen and (max-width: 768px) {\n.mypage__container a[data-v-e1275f8e] {\n    height: 10vw;\n    border-radius: 1vw;\n    font-size: 3.5vw;\n    margin-bottom: 2vw;\n    padding-left: 5vw;\n}\n}\n.mypage__container a[data-v-e1275f8e]:hover {\n  background-color: #fff;\n  border: 1px solid var(--main-color);\n  color: var(--main-color);\n}\n.mypage__container a img[data-v-e1275f8e] {\n  margin-right: 20px;\n  width: 20px;\n}",""])}}]);