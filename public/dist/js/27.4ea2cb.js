(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{239:function(t,n,e){var r=e(360);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};e(8)(r,a);r.locals&&(t.exports=r.locals)},359:function(t,n,e){"use strict";e(239)},360:function(t,n,e){(t.exports=e(7)(!1)).push([t.i,".admin__container[data-v-1c6cd3dc] {\n  padding: 20px;\n  flex: 1;\n}\nh1[data-v-1c6cd3dc] {\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n  padding-left: 15px;\n  border-left: 2px solid #f09415;\n  margin-bottom: 10px;\n}\n.create__form[data-v-1c6cd3dc] {\n  margin-top: 40px;\n}\n.create__form .form__row[data-v-1c6cd3dc] {\n  display: flex;\n  margin-bottom: 20px;\n}\n.create__form .form__row label[data-v-1c6cd3dc] {\n  font-size: 14px;\n  width: 100px;\n}\n.create__form .form__row p[data-v-1c6cd3dc] {\n  flex: 1;\n  margin-left: 10px;\n}\n.create__form .form__row p input[data-v-1c6cd3dc], .create__form .form__row p select[data-v-1c6cd3dc] {\n  width: 100%;\n  height: 40px;\n  border-radius: 4px;\n  border: 1px solid #707070;\n}\n.create__form .form__row p textarea[data-v-1c6cd3dc] {\n  height: 120px;\n  width: 100%;\n  padding: 10px;\n  resize: none;\n  border: 1px solid #707070;\n}\n.create__form .form__actions[data-v-1c6cd3dc] {\n  display: flex;\n  justify-content: center;\n}\n.create__form .form__actions button[data-v-1c6cd3dc] {\n  width: 120px;\n  height: 35px;\n  border-radius: 5px;\n  background-color: #333;\n  color: #fff;\n  border: 0;\n}\n.create__form .form__actions button[data-v-1c6cd3dc]:first-of-type {\n  margin-right: 20px;\n}\n.create__form .form__actions button[data-v-1c6cd3dc]:last-of-type {\n  background-color: #f09415;\n  color: #fff;\n}",""])},60:function(t,n,e){"use strict";e.r(n);var r=e(1),a=e.n(r);function o(t,n,e,r,a,o,c){try{var i=t[o](c),s=i.value}catch(t){return void e(t)}i.done?n(s):Promise.resolve(s).then(r,a)}function c(t){return function(){var n=this,e=arguments;return new Promise((function(r,a){var c=t.apply(n,e);function i(t){o(c,r,a,i,s,"next",t)}function s(t){o(c,r,a,i,s,"throw",t)}i(void 0)}))}}var i={layout:"admin",middleware:"admin",data:function(){return{title:"",content:"",user_id:null,users:[]}},mounted:function(){this.init()},methods:{init:function(){var t=this;return c(a.a.mark((function n(){var e,r;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,axios.post("/admin/get_news_edit_init",{id:t.$route.query.id});case 3:e=n.sent,r=e.data,t.users=r.users,t.title=r.news.title,t.content=r.news.content,t.user_id=r.news.user_id,n.next=13;break;case 11:n.prev=11,n.t0=n.catch(0);case 13:case"end":return n.stop()}}),n,null,[[0,11]])})))()},back:function(){this.$router.back()},createNews:function(){var t=this;return c(a.a.mark((function n(){var e;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!=t.title.trim()&&""!=t.content.trim()){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,axios.post("/admin/update_news",{title:t.title,content:t.content,user_id:t.user_id,id:t.$route.query.id});case 5:e=n.sent,e.data,t.$swal("","お知らせを更新しました"),t.back(),n.next=13;break;case 11:n.prev=11,n.t0=n.catch(2);case 13:case"end":return n.stop()}}),n,null,[[2,11]])})))()}}},s=(e(359),e(4)),d=Object(s.a)(i,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"admin__container"},[e("h1",[t._v("お知らせ編集                                                                                                                                                                                                                                                                                                                                                                                                                                                                     ")]),t._v(" "),e("div",{staticClass:"create__form"},[e("div",{staticClass:"form__row"},[e("label",[t._v("タイトル")]),t._v(" "),e("p",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{type:"text",placeholder:"タイトルを入力してください"},domProps:{value:t.title},on:{input:function(n){n.target.composing||(t.title=n.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form__row"},[e("label",[t._v("内容")]),t._v(" "),e("p",[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],domProps:{value:t.content},on:{input:function(n){n.target.composing||(t.content=n.target.value)}}})])]),t._v(" "),e("div",{staticClass:"form__row"},[e("label",[t._v("配送先")]),t._v(" "),e("p",[e("select",{directives:[{name:"model",rawName:"v-model",value:t.user_id,expression:"user_id"}],on:{change:function(n){var e=Array.prototype.filter.call(n.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.user_id=n.target.multiple?e:e[0]}}},t._l(t.users,(function(n,r){return e("option",{key:r,domProps:{value:n.id}},[t._v("\n\t\t\t\t\t\t"+t._s(n.profile.nickname)+"\n\t\t\t\t\t")])})),0)])]),t._v(" "),e("div",{staticClass:"form__actions"},[e("button",{on:{click:t.back}},[t._v("戻る")]),t._v(" "),e("button",{on:{click:t.createNews}},[t._v("作成")])])])])}),[],!1,null,"1c6cd3dc",null);n.default=d.exports}}]);