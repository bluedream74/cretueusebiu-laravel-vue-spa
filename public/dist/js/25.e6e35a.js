(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{237:function(n,e,t){var a=t(356);"string"==typeof a&&(a=[[n.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(8)(a,r);a.locals&&(n.exports=a.locals)},355:function(n,e,t){"use strict";t(237)},356:function(n,e,t){(n.exports=t(7)(!1)).push([n.i,".admin__auth[data-v-7ebccd36] {\n  padding-top: 100px;\n}\n.login__form[data-v-7ebccd36] {\n  width: 500px;\n  border-radius: 10px;\n  padding: 20px;\n  box-shadow: 0 2px 3px 2px rgba(0, 0, 0, 0.15);\n  margin-left: auto;\n  margin-right: auto;\n  background-color: #e1f6ff;\n}\n.login__form h1[data-v-7ebccd36] {\n  font-size: 20px;\n  font-weight: bold;\n  text-align: center;\n  color: #333;\n}\n.login__form .form__cell[data-v-7ebccd36] {\n  margin-top: 20px;\n}\n.login__form .form__cell label[data-v-7ebccd36] {\n  font-size: 14px;\n}\n.login__form .form__cell p[data-v-7ebccd36] {\n  margin-top: 6px;\n}\n.login__form .form__cell p input[data-v-7ebccd36] {\n  width: 100%;\n  height: 40px;\n  border-radius: 4px;\n  border: 1px solid #ddd;\n  padding-left: 10px;\n  box-sizing: border-box;\n}\n.login__form .form__action[data-v-7ebccd36] {\n  padding-top: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.login__form .form__action button[data-v-7ebccd36] {\n  width: 200px;\n  height: 40px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #f09415;\n  color: white;\n  font-weight: bold;\n  border: 0;\n}",""])},58:function(n,e,t){"use strict";t.r(e);var a=t(1),r=t.n(a);function o(n,e,t,a,r,o,i){try{var s=n[o](i),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(a,r)}var i={middleware:"guest",layout:"admin_guest",data:function(){return{email:"",password:""}},methods:{loginProc:function(){var n,e=this;return(n=r.a.mark((function n(){var t,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!=e.email.trim()&&""!=e.password.trim()){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,axios.post("/api/admin_login",{email:e.email,password:e.password});case 5:return t=n.sent,a=t.data,e.$store.dispatch("admin_auth/saveToken",{token:a.token,remember:!0}),n.next=10,e.$store.dispatch("admin_auth/fetchUser");case 10:e.$router.push({name:"admin.users"}),n.next=24;break;case 13:if(n.prev=13,n.t0=n.catch(2),"Already authenticated."!=n.t0.response.data.error){n.next=22;break}return console.clear(),n.next=19,e.$store.dispatch("admin_auth/fetchUser");case 19:e.$router.push({name:"admin.users"}),n.next=24;break;case 22:e.error="ログインに失敗しました。",e.$swal("","メールアドレスまたはパスワードに誤りがあります。");case 24:case"end":return n.stop()}}),n,null,[[2,13]])})),function(){var e=this,t=arguments;return new Promise((function(a,r){var i=n.apply(e,t);function s(n){o(i,a,r,s,c,"next",n)}function c(n){o(i,a,r,s,c,"throw",n)}s(void 0)}))})()}}},s=(t(355),t(4)),c=Object(s.a)(i,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"admin__auth"},[t("div",{staticClass:"login__form"},[t("h1",[n._v("管理者ログイン")]),n._v(" "),t("div",{staticClass:"form__cell"},[t("label",[n._v("メールアドレス")]),n._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:n.email,expression:"email"}],attrs:{type:"email",placeholder:"メールアドレスを入力してください"},domProps:{value:n.email},on:{input:function(e){e.target.composing||(n.email=e.target.value)}}})])]),n._v(" "),t("div",{staticClass:"form__cell"},[t("label",[n._v("パスワード")]),n._v(" "),t("p",[t("input",{directives:[{name:"model",rawName:"v-model",value:n.password,expression:"password"}],attrs:{type:"password",placeholder:"********"},domProps:{value:n.password},on:{input:function(e){e.target.composing||(n.password=e.target.value)}}})])]),n._v(" "),t("div",{staticClass:"form__action"},[t("button",{on:{click:n.loginProc}},[n._v("ログイン")])])])])}),[],!1,null,"7ebccd36",null);e.default=c.exports}}]);